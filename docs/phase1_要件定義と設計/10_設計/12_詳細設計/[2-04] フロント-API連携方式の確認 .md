ã€Œ\[2-04] ãƒ•ãƒ­ãƒ³ãƒˆ-APIé€£æºæ–¹å¼ã®ç¢ºèªã€ã«è©²å½“ã™ã‚‹å†…å®¹ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¤‡æ•°ã®è³‡æ–™ã«ã¾ãŸãŒã£ã¦è¨˜è¿°ã•ã‚Œã¦ã„ã¾ã™ã€‚ã¾ã¨ã‚ã‚‹ã¨ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

---

## âœ… ãƒ•ãƒ­ãƒ³ãƒˆ-APIé€£æºæ–¹å¼ã®ç¢ºèªã¾ã¨ã‚

### ðŸ”— ä½¿ç”¨æŠ€è¡“æ§‹æˆã¨é€šä¿¡ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

| é …ç›®     | å†…å®¹                                                        |
| ------ | --------------------------------------------------------- |
| ãƒ•ãƒ­ãƒ³ãƒˆæŠ€è¡“ | Vue 3 + Vuetify 3 + Vuexï¼ˆComposition APIï¼defineComponentï¼‰ |
| é€šä¿¡æ‰‹æ®µ   | axios ã‚’åˆ©ç”¨ã—ãŸ REST API é€šä¿¡                                   |
| èªè¨¼æ–¹å¼   | JWT ã¾ãŸã¯ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ™ãƒ¼ã‚¹ï¼ˆSpring Boot å´ã§èªè¨¼APIã‚’å®Ÿè£…ï¼‰                   |
| èªè¨¼é€£æº   | ãƒ­ã‚°ã‚¤ãƒ³APIã«ã‚ˆã‚Šãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ã€ä»¥é™ã®APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã«Authorizationãƒ˜ãƒƒãƒ€ã§ä»˜ä¸Ž        |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ | Spring Bootï¼ˆJavaï¼‰                                         |
| APIè¨­è¨ˆ  | RESTãƒ™ãƒ¼ã‚¹ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆç¾¤ï¼ˆç¤¾å“¡ãƒ»ã‚¹ã‚­ãƒ«ãƒ»ç ”ä¿®ãƒ»ç¾å ´ã”ã¨ï¼‰                          |
| é€šä¿¡å½¢å¼   | JSONï¼ˆapplication/jsonï¼‰                                    |

---

### ðŸŒ ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°æ§‹æˆã¨CORSå¯¾å¿œ

```plaintext
ãƒ¦ãƒ¼ã‚¶ãƒ¼ â†’ CloudFront â†’ S3ï¼ˆVueã‚¢ãƒ—ãƒªï¼‰  
        â†’ APIï¼ˆEC2ä¸Šã®Spring Bootï¼‰  
        â†’ RDSï¼ˆMySQLï¼‰
```

* **CORSå¯¾å¿œ**ï¼šS3 â‡” EC2é–“ã®é€šä¿¡ã§ã¯ã€Nginxã®ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ã‚„Springå´ã§CORSè¨­å®šã‚’è¡Œã„ã€ãƒ–ãƒ©ã‚¦ã‚¶åˆ¶é™ã‚’å›žé¿ã€‚
* **ä»£æ›¿æ§‹æˆï¼ˆå­¦ç¿’åŠ¹æžœé‡è¦–ï¼‰**ï¼šEC2ä¸Šã§ Vue ã® buildæˆæžœç‰©ã‚’ `/var/www/html` ã«é…ç½®ã—ã€Nginx ã§é™çš„é…ä¿¡ + `/api/` ã‚’ Spring Boot ã«ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ã€‚

---

### ðŸ” èªè¨¼æ–¹å¼ã®æ¯”è¼ƒ

| é …ç›®       | APIèªè¨¼ï¼ˆJWTï¼‰           | AWS Cognitoï¼ˆé¸æŠžè‚¢ï¼‰  |
| -------- | -------------------- | ----------------- |
| å®Ÿè£…å·¥æ•°     | å°‘ï¼ˆ2ã€œ4hï¼‰              | å¤šï¼ˆè¨­å®šãŒè¤‡é›‘ï¼‰          |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£   | ä¸­ã€œé«˜ï¼ˆJWTï¼‰             | é«˜ï¼ˆMFAã€ç®¡ç†UIã‚ã‚Šï¼‰     |
| ãƒ•ãƒ­ãƒ³ãƒˆã¨ã®é€£æº | axiosã®ãƒ˜ãƒƒãƒ€ä»˜ä¸Žã§ç°¡å˜       | ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå°Žå…¥ã¨ãƒˆãƒ¼ã‚¯ãƒ³æŠ½å‡ºãŒå¿…è¦ |
| æŽ¡ç”¨æ–¹é‡ï¼ˆä»Šå›žï¼‰ | **APIèªè¨¼ï¼ˆJWTï¼‰ã‚’åŸºæœ¬ã¨ã™ã‚‹** | ä»Šå›žã¯è¦‹é€ã‚Šï¼ˆå°†æ¥æ‹¡å¼µå¯ï¼‰     |
|          |                      |                   |

---

### ðŸ“¦ APIã¨DBé€£æºè¨­è¨ˆï¼ˆERå›³ã¨ç®¡ç†å¯¾è±¡ï¼‰

* ERå›³ä¸Šã® `Employee`, `EmployeeSkill`, `EmployeeTraining`, `EmployeeSiteHistory` ç­‰ã¨APIãŒé€£å‹•
* ãƒ•ãƒ­ãƒ³ãƒˆã§ã¯ Vue + axios çµŒç”±ã§ CRUD æ“ä½œã—ã€Vuexã§çŠ¶æ…‹ç®¡ç†ã€‚
* ãƒ­ãƒ¼ãƒ«ï¼ˆç®¡ç†è€…ï¼ä¸€èˆ¬ï¼‰ã«ã‚ˆã‚Šè¡¨ç¤ºåˆ¶å¾¡ã‚„å…¥åŠ›å¯èƒ½é …ç›®ã®å‡ºã—åˆ†ã‘ã‚’Vueå´ã§å®Ÿè£…ã€‚

---

## âœ… è£œè¶³ï¼šAPIé€£æºã®å…¸åž‹ãƒ‘ã‚¿ãƒ¼ãƒ³

### ãƒ•ãƒ­ãƒ³ãƒˆã‚³ãƒ¼ãƒ‰ä¾‹ï¼ˆaxiosä½¿ç”¨ï¼‰

```ts
import axios from 'axios'

const token = localStorage.getItem('token')
axios.defaults.headers.common['Authorization'] = `Bearer ${token}`

// ç¤¾å“¡ä¸€è¦§å–å¾—
axios.get('/api/employees')
  .then(res => console.log(res.data))
```

---