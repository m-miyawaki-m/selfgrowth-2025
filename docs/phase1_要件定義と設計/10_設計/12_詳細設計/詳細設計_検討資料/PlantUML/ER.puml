@startuml

' ç¤¾å“¡ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆç¤¾å“¡æƒ…å ±ï¼‰
entity "Employee\nã€ç¤¾å“¡ã€‘" as Employee {
  * id : int <<PK>>              ' ç¤¾å“¡IDï¼ˆä¸»ã‚­ãƒ¼ï¼‰
  --
  name : string                  ' æ°å
  email : string                 ' ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
  hire_date : date               ' å…¥ç¤¾æ—¥
  site_id : int <<FK>>           ' ç¾åœ¨ã®é…å±ç¾å ´IDï¼ˆå‚ç…§ç”¨ï¼‰
}

' ç¾å ´ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆé…å±å…ˆï¼‰
entity "Site\nã€ç¾å ´ã€‘" as Site {
  * id : int <<PK>>              ' ç¾å ´IDï¼ˆä¸»ã‚­ãƒ¼ï¼‰
  --
  name : string                  ' ç¾å ´å
  location : string              ' æ‰€åœ¨åœ°
}

' ç¤¾å“¡ç¾å ´å±¥æ­´ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆã©ã®ç¾å ´ã«ã„ã¤ã„ãŸã‹ï¼‰
entity "EmployeeSiteHistory\nã€ç¤¾å“¡ç¾å ´å±¥æ­´ã€‘" as EmployeeSiteHistory {
  * id : int <<PK>>              ' å±¥æ­´IDï¼ˆä¸»ã‚­ãƒ¼ï¼‰
  --
  employee_id : int <<FK>>       ' ç¤¾å“¡IDï¼ˆFKï¼‰
  site_id : int <<FK>>           ' ç¾å ´IDï¼ˆFKï¼‰
  start_date : date              ' é…å±é–‹å§‹æ—¥
  end_date : date                ' é…å±çµ‚äº†æ—¥ï¼ˆNULLãªã‚‰ç¾é…å±ä¸­ï¼‰
}

' ç ”ä¿®ãƒã‚¹ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆä¼šç¤¾ãŒæä¾›ã™ã‚‹ç ”ä¿®ï¼‰
entity "Training\nã€ç ”ä¿®ã€‘" as Training {
  * id : int <<PK>>              ' ç ”ä¿®IDï¼ˆä¸»ã‚­ãƒ¼ï¼‰
  --
  name : string                  ' ç ”ä¿®å
  description : string           ' å†…å®¹èª¬æ˜
  start_date : date              ' é–‹å§‹æ—¥
  end_date : date                ' çµ‚äº†æ—¥
}

' ç¤¾å“¡ç ”ä¿®å±¥æ­´ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆã©ã®ç¤¾å“¡ãŒã©ã®ç ”ä¿®ã‚’å—ã‘ãŸã‹ï¼‰
entity "EmployeeTraining\nã€ç¤¾å“¡ç ”ä¿®å±¥æ­´ã€‘" as EmployeeTraining {
  * id : int <<PK>>              ' å—è¬›IDï¼ˆä¸»ã‚­ãƒ¼ï¼‰
  --
  employee_id : int <<FK>>       ' ç¤¾å“¡IDï¼ˆFKï¼‰
  training_id : int <<FK>>       ' ç ”ä¿®IDï¼ˆFKï¼‰
  status : string                ' çŠ¶æ³ï¼ˆä¾‹ï¼šå—è¬›ä¸­ãƒ»å®Œäº†ï¼‰
  score : int                    ' è©•ä¾¡ãƒ»ã‚¹ã‚³ã‚¢
}

'===============================
' ğŸ“Œ ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®šç¾©ï¼ˆç›¸é–¢é–¢ä¿‚ï¼‰
'===============================

' ç¤¾å“¡ â‡¨ ç¤¾å“¡ç¾å ´å±¥æ­´
' ç¤¾å“¡ã¯è¤‡æ•°ã®ç¾å ´å±¥æ­´ã‚’æŒã¤ï¼ˆ1å¯¾å¤šï¼‰
Employee ||--o{ EmployeeSiteHistory : é…å±å±¥æ­´ã‚’æŒã¤

' ç¾å ´ â‡¨ ç¤¾å“¡ç¾å ´å±¥æ­´
' ç¾å ´ã«ã‚‚è¤‡æ•°ã®ç¤¾å“¡å±¥æ­´ãŒã‚ã‚‹ï¼ˆ1å¯¾å¤šï¼‰
Site ||--o{ EmployeeSiteHistory : å±¥æ­´å¯¾è±¡ç¾å ´

' ç¾å ´ â‡¨ ç¤¾å“¡ï¼ˆç¾åœ¨ã®é…å±å…ˆï¼‰
' ç¤¾å“¡ãŒç¾åœ¨æ‰€å±ã—ã¦ã„ã‚‹ç¾å ´ï¼ˆEmployee.site_idï¼‰
Site ||--o{ Employee : ç¾åœ¨ã®é…å±

' ç¤¾å“¡ â‡¨ ç ”ä¿®å±¥æ­´
' ç¤¾å“¡ã¯è¤‡æ•°ã®ç ”ä¿®ã‚’å—ã‘ã‚‹ï¼ˆ1å¯¾å¤šï¼‰
Employee ||--o{ EmployeeTraining : ç ”ä¿®å—è¬›

' ç ”ä¿® â‡¨ ç ”ä¿®å±¥æ­´
' å„ç ”ä¿®ã¯è¤‡æ•°ã®ç¤¾å“¡ã«å—è¬›ã•ã‚Œã‚‹ï¼ˆ1å¯¾å¤šï¼‰
Training ||--o{ EmployeeTraining : å—è¬›å¯¾è±¡ç ”ä¿®

@enduml
